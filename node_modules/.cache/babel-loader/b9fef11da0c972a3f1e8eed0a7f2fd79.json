{"ast":null,"code":"import _toConsumableArray from\"/home/adel/Documents/GitHub/pinterest-redesign/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"/home/adel/Documents/GitHub/pinterest-redesign/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/adel/Documents/GitHub/pinterest-redesign/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/home/adel/Documents/GitHub/pinterest-redesign/node_modules/@babel/runtime/regenerator/index.js\";import'./App.css';import Header from'./components/Header';import{useState,useEffect}from'react';import InfiniteScroll from'react-infinite-scroll-component';import LoaderComponent from'./components/Loader';import EndComponent from'./components/End';import Content from'./components/Content';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),searchTerm=_useState2[0],setSearchTerm=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),viewMode=_useState4[0],setViewMode=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),items=_useState6[0],setItems=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),result=_useState8[0],setResult=_useState8[1];var _useState9=useState(true),_useState10=_slicedToArray(_useState9,2),hasMore=_useState10[0],sethasMore=_useState10[1];var _useState11=useState(0),_useState12=_slicedToArray(_useState11,2),page=_useState12[0],setpage=_useState12[1];var itemsPerPage=60;var getContent=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('http://xoosha.com/ws/1/test.php?offset='+itemsPerPage*page);case 2:res=_context.sent;_context.next=5;return res.json();case 5:data=_context.sent;setItems([].concat(_toConsumableArray(items),_toConsumableArray(data)));setpage(page+1);case 8:case\"end\":return _context.stop();}}},_callee);}));return function getContent(){return _ref.apply(this,arguments);};}();useEffect(function(){if(page===0)getContent();searchTerm!==\"\"?setResult(items.filter(function(item){return item.description.toLowerCase().includes(searchTerm.toLowerCase());})):setResult(_toConsumableArray(items));},[searchTerm,items]);return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Header,{viewMode:viewMode,setViewMode:setViewMode,setSearchTerm:setSearchTerm}),/*#__PURE__*/_jsx(\"div\",{id:\"scrollableDiv\",children:/*#__PURE__*/_jsxs(InfiniteScroll,{dataLength:items.length,next:getContent,scrollableTarget:\"scrollableDiv\",hasMore:hasMore,loader:/*#__PURE__*/_jsx(LoaderComponent,{}),endMessage:/*#__PURE__*/_jsx(EndComponent,{}),className:\"masnory-container\",children:[viewMode===0&&result.map(function(item){return/*#__PURE__*/_jsx(Content,{viewMode:viewMode,image_url:item.image_url,name:item.name},item.page_id);}),viewMode===1&&result.map(function(item){return/*#__PURE__*/_jsx(Content,{viewMode:viewMode,image_url:item.image_url,name:item.name},item.page_id);}),viewMode===2&&result.map(function(item){return/*#__PURE__*/_jsx(Content,{viewMode:viewMode,image_url:item.image_url,name:item.name,description:item.description},item.page_id);})]})})]});}export default App;","map":{"version":3,"sources":["/home/adel/Documents/GitHub/pinterest-redesign/src/App.js"],"names":["Header","useState","useEffect","InfiniteScroll","LoaderComponent","EndComponent","Content","App","searchTerm","setSearchTerm","viewMode","setViewMode","items","setItems","result","setResult","hasMore","sethasMore","page","setpage","itemsPerPage","getContent","fetch","res","json","data","filter","item","description","toLowerCase","includes","length","map","image_url","name","page_id"],"mappings":"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","sourcesContent":["import './App.css';\nimport Header from './components/Header';\nimport { useState, useEffect } from 'react';\nimport InfiniteScroll from 'react-infinite-scroll-component';\nimport LoaderComponent from './components/Loader';\nimport EndComponent from './components/End';\nimport Content from './components/Content';\n\n\nfunction App() {\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [viewMode, setViewMode] = useState(0);\n  const [items, setItems] = useState([]);\n  const [result, setResult] = useState([]);\n  const [hasMore, sethasMore] = useState(true);\n  const [page, setpage] = useState(0);\n  const itemsPerPage = 60;\n\n  const getContent = async () => {\n    const res = await fetch(\n      'http://xoosha.com/ws/1/test.php?offset=' + itemsPerPage * page\n    );\n    const data = await res.json();\n    setItems([...items, ...data]);\n    setpage(page + 1);\n  }\n  useEffect(() => {\n    if (page === 0)\n      getContent();\n\n    (searchTerm !== \"\") ? setResult(items.filter(item => item.description.toLowerCase().includes(searchTerm.toLowerCase()))) : setResult([...items]);\n\n  }, [searchTerm, items]);\n\n\n  return (\n    <div className=\"App\">\n      <Header viewMode={viewMode} setViewMode={setViewMode} setSearchTerm={setSearchTerm} />\n      <div id=\"scrollableDiv\">\n        <InfiniteScroll\n          dataLength={items.length}\n          next={getContent}\n          scrollableTarget=\"scrollableDiv\"\n          hasMore={hasMore}\n          loader={<LoaderComponent />}\n          endMessage={<EndComponent />}\n          className=\"masnory-container\"\n        >\n          {viewMode === 0 &&\n            result.map((item) => {\n              return <Content viewMode={viewMode} key={item.page_id} image_url={item.image_url} name={item.name}></Content>\n            })\n          }\n          {viewMode === 1 &&\n            result.map((item) => {\n              return <Content viewMode={viewMode} key={item.page_id} image_url={item.image_url} name={item.name}></Content>\n            })\n          }\n          {viewMode === 2 &&\n            result.map((item) => {\n              return <Content viewMode={viewMode} key={item.page_id} image_url={item.image_url} name={item.name} description={item.description}></Content>\n            })\n          }\n        </InfiniteScroll>\n      </div>\n\n    </div >\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}